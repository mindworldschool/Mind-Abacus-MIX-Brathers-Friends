// test_mix_formulas.js - ะัะพะฒะตัะบะฐ ัะพัะผัะป ะะะะก ะธะท ะบะพะดะฐ
//
// ะัะพะฒะตััะตะผ ััะพ ัะพัะผัะปั ะฒ MixExampleGenerator ะบะพััะตะบัะฝะพ ะพััะฐะถะฐัั
// ะฟะพัะปะตะดะพะฒะฐัะตะปัะฝะพััั ัะฐะณะพะฒ ะฝะฐ ะฐะฑะฐะบััะต

import { MixExampleGenerator } from './ext/core/MixExampleGenerator.js';

console.log('๐ ะะะะะะะะ ะคะะะะฃะ ะะะะะ ะะะะก\n');
console.log('โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ\n');

// ะกะพะทะดะฐัะผ ะณะตะฝะตัะฐัะพั ะดะปั digitCount=1
const generator = new MixExampleGenerator({
  selectedMixDigits: [6, 7, 8, 9],
  digitCount: 1,
  chainLength: 5,
  minMixCount: 1,
  silent: false  // ะะบะปััะฐะตะผ ะปะพะณะธัะพะฒะฐะฝะธะต
});

console.log('\n๐ ะะะะะะ ะคะะะะฃะ ะะ ะะะะ:\n');

// ะคัะฝะบัะธั ะดะปั ะธะทะฒะปะตัะตะฝะธั ัะพัะผัะปั ะธะท ะบะพะดะฐ
function getFormulaFromCode(digit, isAddition) {
  const friend = 10 - digit;
  const brother = 5 - friend;
  const targetPosition = 0; // ะดะปั digitCount=1

  const positionNames = ['ะตะดะธะฝะธัั', 'ะดะตัััะบะธ', 'ัะพัะฝะธ'];

  if (isAddition) {
    return [
      { step: positionNames[targetPosition], op: '+', val: 5 },
      { step: positionNames[targetPosition], op: '-', val: brother },
      { step: positionNames[targetPosition + 1], op: '+', val: 1 },
      { step: positionNames[targetPosition], op: '-', val: friend }
    ];
  } else {
    return [
      { step: positionNames[targetPosition], op: '-', val: 5 },
      { step: positionNames[targetPosition], op: '+', val: brother },
      { step: positionNames[targetPosition + 1], op: '-', val: 1 },
      { step: positionNames[targetPosition], op: '+', val: friend }
    ];
  }
}

// ะัะพะฒะตัะบะฐ ัะพัะผัะป ะดะปั ัะปะพะถะตะฝะธั
console.log('โถ๏ธ  ะกะะะะะะะ (+6, +7, +8, +9):\n');

for (const digit of [6, 7, 8, 9]) {
  const friend = 10 - digit;
  const brother = 5 - friend;

  console.log(`\n๐ธ ะคะพัะผัะปะฐ ะดะปั +${digit}:`);
  console.log(`   friend = ${friend}, brother = ${brother}`);
  console.log(`   ะะฐัะตะผะฐัะธะบะฐ: +${digit} = (+10 - ${friend})`);
  console.log(`   ะัะฐััั ะฒะฝัััะธ: -${friend} = (-5 + ${brother})`);

  const formula = getFormulaFromCode(digit, true);
  console.log(`\n   ๐ ะคะพัะผัะปะฐ ะธะท ะบะพะดะฐ (4 ัะฐะณะฐ):`);
  formula.forEach((f, i) => {
    console.log(`      ${i+1}. ${f.step}: ${f.op}${f.val}`);
  });

  console.log(`\n   ๐ค ะัะฐะฒะธะปัะฝะฐั ะฟะพัะปะตะดะพะฒะฐัะตะปัะฝะพััั ะฝะฐ ะฐะฑะฐะบััะต:`);
  console.log(`      1. ะตะดะธะฝะธัั: -5 (ัะฑัะฐัั ะฒะตััะฝัั ะดะปั ะฟัะธะผะตะฝะตะฝะธั ะัะฐััะตะฒ)`);
  console.log(`      2. ะตะดะธะฝะธัั: +${brother} (ะดะพะฑะฐะฒะธัั ะฑัะฐัะฐ, ะทะฐะฒะตััะตะฝะธะต ะัะฐััะตะฒ: -${friend})`);
  console.log(`      3. ะดะตัััะบะธ: +1 (ะััะทัั: ะดะพะฑะฐะฒะธัั +10)`);
  console.log(`      โ ะะะข ัะฐะณะฐ 4: -${friend} ัะถะต ะฟัะธะผะตะฝะตะฝะพ ัะตัะตะท ัะฐะณะธ 1-2!`);

  console.log(`\n   โ๏ธ  ะะะะะะะะ: ะคะพัะผัะปะฐ ะฒ ะบะพะดะต ัะพะดะตัะถะธั ะปะธัะฝะธะน/ะฝะตะฟัะฐะฒะธะปัะฝัะน ัะฐะณ!`);
}

// ะัะพะฒะตัะบะฐ ัะพัะผัะป ะดะปั ะฒััะธัะฐะฝะธั
console.log('\n\nโถ๏ธ  ะะซะงะะขะะะะ (-6, -7, -8, -9):\n');

for (const digit of [6, 7, 8, 9]) {
  const friend = 10 - digit;
  const brother = 5 - friend;

  console.log(`\n๐ธ ะคะพัะผัะปะฐ ะดะปั -${digit}:`);
  console.log(`   friend = ${friend}, brother = ${brother}`);
  console.log(`   ะะฐัะตะผะฐัะธะบะฐ: -${digit} = (-10 + ${friend})`);
  console.log(`   ะัะฐััั ะฒะฝัััะธ: +${friend} = (+5 - ${brother})`);

  const formula = getFormulaFromCode(digit, false);
  console.log(`\n   ๐ ะคะพัะผัะปะฐ ะธะท ะบะพะดะฐ (4 ัะฐะณะฐ):`);
  formula.forEach((f, i) => {
    console.log(`      ${i+1}. ${f.step}: ${f.op}${f.val}`);
  });

  console.log(`\n   ๐ค ะัะฐะฒะธะปัะฝะฐั ะฟะพัะปะตะดะพะฒะฐัะตะปัะฝะพััั ะฝะฐ ะฐะฑะฐะบััะต:`);
  console.log(`      1. ะตะดะธะฝะธัั: +5 (ะดะพะฑะฐะฒะธัั ะฒะตััะฝัั ะดะปั ะฟัะธะผะตะฝะตะฝะธั ะัะฐััะตะฒ)`);
  console.log(`      2. ะตะดะธะฝะธัั: -${brother} (ัะฑัะฐัั ะฑัะฐัะฐ, ะทะฐะฒะตััะตะฝะธะต ะัะฐััะตะฒ: +${friend})`);
  console.log(`      3. ะดะตัััะบะธ: -1 (ะััะทัั: ะทะฐะฝััั -10)`);
  console.log(`      โ ะะะข ัะฐะณะฐ 4: +${friend} ัะถะต ะฟัะธะผะตะฝะตะฝะพ ัะตัะตะท ัะฐะณะธ 1-2!`);

  console.log(`\n   โ๏ธ  ะะะะะะะะ: ะคะพัะผัะปะฐ ะฒ ะบะพะดะต ัะพะดะตัะถะธั ะปะธัะฝะธะน/ะฝะตะฟัะฐะฒะธะปัะฝัะน ัะฐะณ!`);
}

console.log('\n\nโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ');
console.log('ะะซะะะ:');
console.log('โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ\n');
console.log('โ ะคะพัะผัะปั ะฒ ะบะพะดะต ัะพะดะตัะถะฐั 4 ัะฐะณะฐ ะฒะผะตััะพ 3');
console.log('โ ะะพัะปะตะดะฝะธะน ัะฐะณ ะดัะฑะปะธััะตั ัััะตะบั ัะฐะณะพะฒ 1-2 (ะัะฐััั)');
console.log('โ ะญัะพ ะผะพะถะตั ะทะฐะฟััะฐัั ะฟะพะปัะทะพะฒะฐัะตะปั ะฟัะธ ะพัะพะฑัะฐะถะตะฝะธะธ\n');

console.log('โ ะะะะะะะฌะะะฏ ััััะบัััะฐ ัะพัะผัะปั ะะะะก:');
console.log('   1. ะจะฐะณ ะัะฐััะตะฒ (ัะฐััั 1): ยฑ5 ะฒ ัะตะปะตะฒะพะผ ัะฐะทััะดะต');
console.log('   2. ะจะฐะณ ะัะฐััะตะฒ (ัะฐััั 2): โbrother ะฒ ัะตะปะตะฒะพะผ ัะฐะทััะดะต');
console.log('   3. ะจะฐะณ ะััะทะตะน: ยฑ1 ะฒ ัะปะตะดัััะตะผ ัะฐะทััะดะต (+10 ะธะปะธ -10)\n');

console.log('๐ง ะะตะบะพะผะตะฝะดะฐัะธั: ัะฑัะฐัั 4-ะน ัะฐะณ ะธะท ัะพัะผัะป ะฒ ะบะพะดะต\n');
